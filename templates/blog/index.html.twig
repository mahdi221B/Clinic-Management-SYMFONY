{%extends 'blog/base.html.twig' %}



{% block title  %} Hello {{ controller_name }} ! {% endblock %}




{% block body %}


{%for i in posts %}
    <section class ="post">
        <post>
            <h2>{{ i.title}} </h2>
            <div class="content">
                <img src="{{ i.image }}" alt= "">

                </p>
               {{ i.text }}
                <a href ="{{ path('blog_show',{'id':i.id}) }}" class=" btn btn-primary"> lire la suite</a>
            </div>


        </post>


























































































    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>note</title>
        <style>
            .star {
                font-size: 1.5rem;
            }

            .hover {
                color: rgb(255, 196, 0);
            }
        </style>
    </head>

    <body>

    <i class="star" data-note="1">&#9733;</i>
    <i class="star" data-note="2">&#9733;</i>
    <i class="star" data-note="3">&#9733;</i>
    <i class="star" data-note="4">&#9733;</i>
    <i class="star" data-note="5">&#9733;</i>
    <i class="note">Note:</i>
    <script>
        const stars = document.querySelectorAll('.star');
        let check = false;
        stars.forEach(star => {
            star.addEventListener('mouseover', selectStars);
            star.addEventListener('mouseleave', unselectStars);
            star.addEventListener('click', activeSelect);
        })

        function selectStars(e) {
            const data = e.target;
            const etoiles = priviousSiblings(data);
            if (!check) {
                etoiles.forEach(etoile => {
                    etoile.classList.add('hover');
                })
            }

        }

        function unselectStars(e) {
            const data = e.target;
            const etoiles = priviousSiblings(data);
            if (!check) {
                etoiles.forEach(etoile => {
                    etoile.classList.remove('hover');
                })
            }
        }

        function activeSelect(e) {
            if (!check) {
                check = true;
                document.querySelector('.note').innerHTML = 'Note ' + e.target.dataset.note;
            }
        }

        function priviousSiblings(data) {
            let values = [data];
            while (data = data.previousSibling) {
                if (data.nodeName === 'I') {
                    values.push(data);
                }
            }
            return values;
        }
    </script>

    </body>

    </html>

{% endfor %}

    <div class="d-flex justify-content-center mt-6">
        {% do posts.setPageRange(4) %}
        {{ knp_pagination_render(posts) }}
    </div>
    </section>

{% endblock %}
